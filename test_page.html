<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>签收系统测试页面</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 20px;
    }
    .header {
      background-color: #f1f1f1;
      padding: 10px;
      margin-bottom: 20px;
    }
    .tabs {
      display: flex;
      border-bottom: 1px solid #ccc;
      margin-bottom: 20px;
    }
    .tab {
      padding: 10px 20px;
      cursor: pointer;
      border: 1px solid transparent;
      margin-right: 5px;
    }
    .tab.active {
      border: 1px solid #ccc;
      border-bottom: none;
      background-color: white;
      border-top-left-radius: 4px;
      border-top-right-radius: 4px;
    }
    .content {
      display: none;
    }
    .content.active {
      display: block;
    }
    table {
      width: 100%;
      border-collapse: collapse;
    }
    th, td {
      border: 1px solid #ddd;
      padding: 8px;
      text-align: left;
    }
    th {
      background-color: #f2f2f2;
    }
    .batch-sign-btn {
      background-color: #4CAF50;
      color: white;
      border: none;
      padding: 8px 16px;
      cursor: pointer;
      border-radius: 4px;
      margin-bottom: 15px;
    }
    .modal {
      display: none;
      position: fixed;
      z-index: 1;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      overflow: auto;
      background-color: rgba(0,0,0,0.4);
    }
    .modal-content {
      background-color: #fefefe;
      margin: 15% auto;
      padding: 20px;
      border: 1px solid #888;
      width: 300px;
      border-radius: 5px;
    }
    .modal-buttons {
      display: flex;
      justify-content: flex-end;
      margin-top: 20px;
    }
    .modal-buttons button {
      margin-left: 10px;
      padding: 6px 12px;
      border: none;
      border-radius: 4px;
      cursor: pointer;
    }
    .confirm-btn {
      background-color: #4CAF50;
      color: white;
    }
    .cancel-btn {
      background-color: #f44336;
      color: white;
    }
    .checkbox-container {
      margin-bottom: 10px;
    }
    .checkbox-container input {
      margin-right: 5px;
    }
  </style>
</head>
<body>
  <div class="header">
    <h1>签收系统测试页面</h1>
  </div>
  
  <div class="tabs">
    <div class="tab" onclick="switchTab('all')">全部</div>
    <div class="tab" onclick="switchTab('pending')">待签收件</div>
    <div class="tab" onclick="switchTab('signed')">已签收件</div>
  </div>
  
  <div id="all" class="content">
    <h2>全部订单</h2>
    <p>这里显示所有订单。</p>
  </div>
  
  <div id="pending" class="content">
    <h2>待签收件</h2>
    <button class="batch-sign-btn" onclick="showConfirmDialog()">批量签收</button>
    <table>
      <tr>
        <th><input type="checkbox" id="select-all" onclick="selectAll()"></th>
        <th>订单号</th>
        <th>商品名称</th>
        <th>收件人</th>
        <th>状态</th>
      </tr>
      <tr id="order1">
        <td><input type="checkbox" name="order-select" value="1"></td>
        <td>2023001</td>
        <td>笔记本电脑</td>
        <td>张三</td>
        <td>待签收</td>
      </tr>
      <tr id="order2">
        <td><input type="checkbox" name="order-select" value="2"></td>
        <td>2023002</td>
        <td>手机</td>
        <td>李四</td>
        <td>待签收</td>
      </tr>
      <tr id="order3">
        <td><input type="checkbox" name="order-select" value="3"></td>
        <td>2023003</td>
        <td>耳机</td>
        <td>王五</td>
        <td>待签收</td>
      </tr>
      <tr id="order4">
        <td><input type="checkbox" name="order-select" value="4"></td>
        <td>2023004</td>
        <td>平板电脑</td>
        <td>赵六</td>
        <td>待签收</td>
      </tr>
      <tr id="order5">
        <td><input type="checkbox" name="order-select" value="5"></td>
        <td>2023005</td>
        <td>智能手表</td>
        <td>钱七</td>
        <td>待签收</td>
      </tr>
    </table>
  </div>
  
  <div id="signed" class="content">
    <h2>已签收件</h2>
    <p>暂无已签收订单。</p>
  </div>
  
  <!-- 确认对话框 -->
  <div id="confirm-modal" class="modal">
    <div class="modal-content">
      <h3>确认批量签收</h3>
      <p>您确定要签收选中的订单吗？</p>
      <div class="modal-buttons">
        <button class="cancel-btn" onclick="closeModal()">取消</button>
        <button class="confirm-btn" onclick="batchSign()">确定</button>
      </div>
    </div>
  </div>

  <script>
    // 初始化显示全部标签
    document.addEventListener('DOMContentLoaded', function() {
      switchTab('all');
    });
    
    // 切换标签
    function switchTab(tabId) {
      // 隐藏所有内容
      const contents = document.querySelectorAll('.content');
      contents.forEach(content => {
        content.classList.remove('active');
      });
      
      // 取消所有标签的激活状态
      const tabs = document.querySelectorAll('.tab');
      tabs.forEach(tab => {
        tab.classList.remove('active');
      });
      
      // 激活选中的标签和内容
      document.getElementById(tabId).classList.add('active');
      document.querySelector('.tab:nth-child(' + (tabId === 'all' ? 1 : tabId === 'pending' ? 2 : 3) + ')').classList.add('active');
    }
    
    // 全选/取消全选
    function selectAll() {
      const selectAllCheckbox = document.getElementById('select-all');
      const checkboxes = document.querySelectorAll('input[name="order-select"]');
      
      checkboxes.forEach(checkbox => {
        checkbox.checked = selectAllCheckbox.checked;
      });
    }
    
    // 显示确认对话框
    function showConfirmDialog() {
      const checkboxes = document.querySelectorAll('input[name="order-select"]:checked');
      if (checkboxes.length === 0) {
        alert('请至少选择一个订单');
        return;
      }
      
      document.getElementById('confirm-modal').style.display = 'block';
    }
    
    // 关闭对话框
    function closeModal() {
      document.getElementById('confirm-modal').style.display = 'none';
    }
    
    // 批量签收
    function batchSign() {
      const checkboxes = document.querySelectorAll('input[name="order-select"]:checked');
      const orderIds = [];
      
      checkboxes.forEach(checkbox => {
        orderIds.push(checkbox.value);
        
        // 从列表中移除该订单
        const orderRow = document.getElementById('order' + checkbox.value);
        if (orderRow) {
          orderRow.remove();
        }
      });
      
      // 添加到已签收列表
      const signedContent = document.getElementById('signed');
      if (signedContent) {
        const p = signedContent.querySelector('p');
        if (orderIds.length > 0) {
          const orderText = orderIds.map(id => '2023' + id.padStart(3, '0')).join(', ');
          p.textContent = '已签收订单: ' + orderText;
        }
      }
      
      // 关闭对话框
      closeModal();
      
      // 显示签收成功提示
      alert('成功签收 ' + orderIds.length + ' 个订单！');
    }
  </script>
</body>
</html>